# 负载均衡

随机，按权重设置随机概率（推荐使用）

轮询，按公约后的权重设置轮询比率

最少活跃调用数，相同活跃数的随机，活跃数指调用前后计数差，使慢的机器收到更少请求

一致性Hash，相同参数的请求总是发到同一提供者，当某一台提供者挂时，原本发往该提供者的请求，基于虚拟节点，平摊到其它提供者，不会引起剧烈变动

# 需要改功能的模块

## common

直接放在共有模块中，因为对于 register/client 都需要这种负载均衡。

去选择对应的服务器。

# 实现的抽象性

## 抽象为 filter

对负载均衡直接抽象为一个 filter

在调用前执行的一个 filter。

让实现本身就是插件式的。

